const Dropbox = require('dropbox').Dropbox;
const fetch = require('isomorphic-fetch');

const dbx = new Dropbox({ accessToken: 'sl.u.AFrmvldJ046GVIWzVsNGH6FImKLeh6lCWJLn0tWzPBAWzOGLNPcLB7l486SCIDshtkKwhTtr3BFh7mBmGBa8L3mNM6VQ_TG4h9tFcK--wKsQtP-eZdtaXzB-9BicHCeAS5TEjNnq0V-Kx6wOamoO2WvIEvBjahDzGtcPUQQJ8ZhI9lJrVox7URJTIZ6boZQVnn3RUwiVDb9ViVrw7iyFmEhFhKcMdh_bFEEQiei48ntZoQuVrUSl0l23GaunBQ3pIySP78ccSMjboa5F-3FoOlmOxhRlYw0p2qRQbAJlEnbJVBUnDBlSxlvk9v0FdWSBHl5jS6QGxx1gvbqNSEWMu9ayEiCdFnVtl86JzPUEetqem5V95S_KMPFpl2YYpoztqpCglxfLEqiQ6-11PbE-Nfl9-rIqRvtpcNbqCVFrAdNxY9MCztY2cO1ObOZERyxQs3rX4rBOUP6mxdM15tC71wx-WK2uBA5qX78anDWdtFpL7cbr6gc5nsSYMILmy8ZlI40hS8jtb4yQy8CdJbmsnNDce4IMUFjTLsyqYKFG3ze3NUOWcf9cd0dgq2VUqN5ylaydi3PtaEKx1SJtAi1sxUeNkF3dy475vr-LsJRLmC-QFWPkMkhHjHRH4Bk9PVu5fZIo7oxGRWZrrRrzeCsjtt-t5COyg5vP5rAvek384fLT7a_vzPTuVFDufFRAxCESbkFSKYlGKB3nYWSnzgJDPn7kMa1m3it1Mw5eGm9_7Ig84_ixjNhRP3z1suSk1IH-jb_oqFWkT7v803a6jUZkc_NG82XQHzsW9BbbPzjDyjF_tSvcMsUX7nFneprsHF7SBvos5929cZlP6c-7Di7wfm12CFCsXTRThzyeok9OsDwafe2-KDYMeRc5khgTRCGRW-E7Ij6E7tHwrJixXiRc7hbnjLieBPGhGfLS3HSlUnF5R028RoN8uVqGjLRgj1mE8_e_B120wrHKTGlBDGlSoEbvuWC-c5c0y27E3BYvYrOxRWYWGIeI5ikJ_rMqPcsWd_irY-C4llsJ4N7vg1lZ8bpKcwS9v6AggDOyJRc2omQGYm0Nbph8_EoA4AVpxH60Jn2htu1CtItQ5ECD5LLbrHJjv3DBeuIx7SFJf2kDvSV7YL9QbDweK1gM9BWGpNoODniGzyeq97Dr9XKOdROVpfhXoI4Dw0tcSVaMSab9_6ebKYAucOfUNBxAzbAhCl-E1oiPyPS1sol_6PmthX0FCRBT5TojMZeQFX_Mkk8r3FrS-Xdu11kdkW233F0CwVcCSyvg_W7eIrsf7R2W0TAoUtTKYzPlo4BKv6pP79BmCcHr0PQA4T9fDUlWJeh2r8u7ARGgc7W-xj2mIcpBfdUJstc7X2YzFBiYh1MPuiMbiYtPa_jIFsOlr9PVFPtic-uTBHvJxK2uD20k84vpE62uv6hd_CRPa-iVm-cxPFQxz5DLJg', fetch: fetch });

dbx.filesGetTemporaryLink({ path: 'All files/Apps/MBTA/mbta_map.png' })
  .then(response => {
    const imageUrl = response.link;
    console.log('https://www.dropbox.com/scl/fi/dk9yofrhqbpzcs4hq4n41/mbta_map.png?rlkey=5tobw3ezbfjqhefew8jy00b8a&st=gxvfqkx5&dl=0', imageUrl);
    // Use this URL in your HTML to display the image
  })
  .catch(error => {
    console.error('Error fetching image:', error);
  });